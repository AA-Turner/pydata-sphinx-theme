
<!doctype html>
<html lang="en">
  <head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="docsearch:language" content="en">

<title>Test</title>

<link href="../../_static/bootstrap-4.3.1-dist/css/bootstrap.css" rel="stylesheet">

<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet">

<link href="../../_static/docs.min.css" rel="stylesheet">

  </head>
  <body>
    <header class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar">

  <a class="navbar-brand mr-0 mr-md-2" href="/" aria-label="Bootstrap">
    Pandas
  </a>

  <div class="navbar-nav-scroll">
    <ul class="navbar-nav bd-navbar-nav flex-row">
      <li class="nav-item">
        <a class="nav-link" href="../../index.html">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../../install.html">Installation</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../../getting_started/index.html">Getting Started</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../../user_guide/index.html">User Guide</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../index.html">API Reference</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../../development/index.html">Development</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../../whatsnew/index.html">Release Notes</a>
      </li>
    </ul>
  </div>
</header>

    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 bd-sidebar"><form class="bd-search d-flex align-items-center">
  <input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off" >

</form>

<nav class="collapse bd-links" id="bd-docs-nav" aria-label="Main navigation">


<div class="bd-toc-item active">
  <ul class="current nav bd-sidenav active">
<li class="toctree-l2 current"><a class="reference internal" href="../../user_guide/io.html">IO Tools (Text, CSV, HDF5, …)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/indexing.html">Indexing and Selecting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/advanced.html">MultiIndex / Advanced Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/merging.html">Merge, join, and concatenate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/reshaping.html">Reshaping and Pivot Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/text.html">Working with Text Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/missing_data.html">Working with missing data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/categorical.html">Categorical Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/integer_na.html">Nullable Integer Data Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/computation.html">Computational tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/groupby.html">Group By: split-apply-combine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/timeseries.html">Time Series / Date functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/timedeltas.html">Time Deltas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/options.html">Options and Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/enhancingperf.html">Enhancing Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/sparse.html">Sparse data structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/gotchas.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user_guide/cookbook.html">Cookbook</a></li>
</ul>

</div>
</nav>
        </div>

        
        
          <nav class="d-none d-xl-block col-xl-2 bd-toc" aria-label="Secondary navigation">
            <ul class="section-nav">
<li class="toc-entry toc-h1"><a class="reference internal" href="#">pandas.DataFrame.to_sql</a></li>
</ul>

          </nav>
        
        

        
        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
          
          
  <div class="section" id="pandas-dataframe-to-sql">
<h1>pandas.DataFrame.to_sql<a class="headerlink" href="#pandas-dataframe-to-sql" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="pandas.DataFrame.to_sql">
<code class="descclassname">DataFrame.</code><code class="descname">to_sql</code><span class="sig-paren">(</span><em>name</em>, <em>con</em>, <em>schema=None</em>, <em>if_exists='fail'</em>, <em>index=True</em>, <em>index_label=None</em>, <em>chunksize=None</em>, <em>dtype=None</em>, <em>method=None</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/pandas-dev/pandas/blob/v0.24.2/pandas/core/generic.py#L2400-L2531"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pandas.DataFrame.to_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Write records stored in a DataFrame to a SQL database.</p>
<p>Databases supported by SQLAlchemy <a class="reference internal" href="#r689dfd12abe5-1" id="id1">[1]</a> are supported. Tables can be
newly created, appended to, or overwritten.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>name</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Name of SQL table.</p>
</dd>
<dt><strong>con</strong> <span class="classifier-delimiter">:</span> <span class="classifier">sqlalchemy.engine.Engine or sqlite3.Connection</span></dt>
<dd><p class="first last">Using SQLAlchemy makes it possible to use any DB supported by that
library. Legacy support is provided for sqlite3.Connection objects.</p>
</dd>
<dt><strong>schema</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string, optional</span></dt>
<dd><p class="first last">Specify the schema (if database flavor supports this). If None, use
default schema.</p>
</dd>
<dt><strong>if_exists</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{‘fail’, ‘replace’, ‘append’}, default ‘fail’</span></dt>
<dd><p class="first">How to behave if the table already exists.</p>
<ul class="last simple">
<li>fail: Raise a ValueError.</li>
<li>replace: Drop the table before inserting new values.</li>
<li>append: Insert new values to the existing table.</li>
</ul>
</dd>
<dt><strong>index</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, default True</span></dt>
<dd><p class="first last">Write DataFrame index as a column. Uses <cite>index_label</cite> as the column
name in the table.</p>
</dd>
<dt><strong>index_label</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string or sequence, default None</span></dt>
<dd><p class="first last">Column label for index column(s). If None is given (default) and
<cite>index</cite> is True, then the index names are used.
A sequence should be given if the DataFrame uses MultiIndex.</p>
</dd>
<dt><strong>chunksize</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int, optional</span></dt>
<dd><p class="first last">Rows will be written in batches of this size at a time. By default,
all rows will be written at once.</p>
</dd>
<dt><strong>dtype</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict, optional</span></dt>
<dd><p class="first last">Specifying the datatype for columns. The keys should be the column
names and the values should be the SQLAlchemy types or strings for
the sqlite3 legacy mode.</p>
</dd>
<dt><strong>method</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{None, ‘multi’, callable}, default None</span></dt>
<dd><p class="first">Controls the SQL insertion clause used:</p>
<ul class="simple">
<li>None : Uses standard SQL <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> clause (one per row).</li>
<li>‘multi’: Pass multiple values in a single <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> clause.</li>
<li>callable with signature <code class="docutils literal notranslate"><span class="pre">(pd_table,</span> <span class="pre">conn,</span> <span class="pre">keys,</span> <span class="pre">data_iter)</span></code>.</li>
</ul>
<p>Details and a sample callable implementation can be found in the
section <a class="reference internal" href="../../user_guide/io.html#io-sql-method"><span class="std std-ref">insert method</span></a>.</p>
<div class="last versionadded">
<p><span class="versionmodified">New in version 0.24.0.</span></p>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>ValueError</strong></dt>
<dd><p class="first last">When the table already exists and <cite>if_exists</cite> is ‘fail’ (the
default).</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="pandas.read_sql.html#pandas.read_sql" title="pandas.read_sql"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_sql</span></code></a></dt>
<dd>Read a DataFrame from a table.</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Timezone aware datetime columns will be written as
<code class="docutils literal notranslate"><span class="pre">Timestamp</span> <span class="pre">with</span> <span class="pre">timezone</span></code> type with SQLAlchemy if supported by the
database. Otherwise, the datetimes will be stored as timezone unaware
timestamps local to the original timezone.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.24.0.</span></p>
</div>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r689dfd12abe5-1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> <a class="reference external" href="http://docs.sqlalchemy.org">http://docs.sqlalchemy.org</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r689dfd12abe5-2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td><a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">https://www.python.org/dev/peps/pep-0249/</a></td></tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Create an in-memory SQLite database.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">create_engine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;sqlite://&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Create a table from scratch with 3 rows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;User 1&#39;</span><span class="p">,</span> <span class="s1">&#39;User 2&#39;</span><span class="p">,</span> <span class="s1">&#39;User 3&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     name</span>
<span class="go">0  User 1</span>
<span class="go">1  User 2</span>
<span class="go">2  User 3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM users&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<span class="go">[(0, &#39;User 1&#39;), (1, &#39;User 2&#39;), (2, &#39;User 3&#39;)]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;User 4&#39;</span><span class="p">,</span> <span class="s1">&#39;User 5&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">if_exists</span><span class="o">=</span><span class="s1">&#39;append&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM users&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<span class="go">[(0, &#39;User 1&#39;), (1, &#39;User 2&#39;), (2, &#39;User 3&#39;),</span>
<span class="go"> (0, &#39;User 4&#39;), (1, &#39;User 5&#39;)]</span>
</pre></div>
</div>
<p>Overwrite the table with just <code class="docutils literal notranslate"><span class="pre">df1</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">if_exists</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">,</span>
<span class="gp">... </span>           <span class="n">index_label</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM users&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<span class="go">[(0, &#39;User 4&#39;), (1, &#39;User 5&#39;)]</span>
</pre></div>
</div>
<p>Specify the dtype (especially useful for integers with missing values).
Notice that while pandas is forced to store the data as floating point,
the database supports nullable integers. When fetching the data with
Python, we get back integer scalars.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">     A</span>
<span class="go">0  1.0</span>
<span class="go">1  NaN</span>
<span class="go">2  2.0</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.types</span> <span class="k">import</span> <span class="n">Integer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;integers&#39;</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="n">Integer</span><span class="p">()})</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM integers&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<span class="go">[(1,), (None,), (2,)]</span>
</pre></div>
</div>
</dd></dl>

</div>


        </main>
      </div>
    </div>

    
  </body>
</html>