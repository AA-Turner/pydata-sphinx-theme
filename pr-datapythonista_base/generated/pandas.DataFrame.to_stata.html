<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pandas.DataFrame.to_stata &#8212; pandas 0.23.4 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pandas_styles.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pandas.DataFrame.to_string" href="pandas.DataFrame.to_string.html" />
    <link rel="prev" title="pandas.DataFrame.to_sql" href="pandas.DataFrame.to_sql.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/pandas_logo.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.23.4</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../install.html">Install</a></li>
                <li><a href="../getting_started/index.html">Getting started</a></li>
                <li><a href="../user_guide/index.html">User guide</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../community.html">Community</a></li>
                <li><a href="../donate.html">Donate</a></li>
            
            
              
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">pandas.DataFrame.to_stata</a></li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="pandas-dataframe-to-stata">
<h1>pandas.DataFrame.to_stata<a class="headerlink" href="#pandas-dataframe-to-stata" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="pandas.DataFrame.to_stata">
<code class="descclassname">DataFrame.</code><code class="descname">to_stata</code><span class="sig-paren">(</span><em>fname</em>, <em>convert_dates=None</em>, <em>write_index=True</em>, <em>encoding='latin-1'</em>, <em>byteorder=None</em>, <em>time_stamp=None</em>, <em>data_label=None</em>, <em>variable_labels=None</em>, <em>version=114</em>, <em>convert_strl=None</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/pandas-dev/pandas/blob/v0.23.4/pandas/core/frame.py#L1768-L1877"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pandas.DataFrame.to_stata" title="Permalink to this definition">¶</a></dt>
<dd><p>Export Stata binary dta files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : path (string), buffer or path object</p>
<blockquote>
<div><p>string, path object (pathlib.Path or py._path.local.LocalPath) or
object implementing a binary write() functions. If using a buffer
then the buffer will not be automatically closed after the file
data has been written.</p>
</div></blockquote>
<p><strong>convert_dates</strong> : dict</p>
<blockquote>
<div><p>Dictionary mapping columns containing datetime types to stata
internal format to use when writing the dates. Options are ‘tc’,
‘td’, ‘tm’, ‘tw’, ‘th’, ‘tq’, ‘ty’. Column can be either an integer
or a name. Datetime columns that do not have a conversion type
specified will be converted to ‘tc’. Raises NotImplementedError if
a datetime column has timezone information.</p>
</div></blockquote>
<p><strong>write_index</strong> : bool</p>
<blockquote>
<div><p>Write the index to Stata dataset.</p>
</div></blockquote>
<p><strong>encoding</strong> : str</p>
<blockquote>
<div><p>Default is latin-1. Unicode is not supported.</p>
</div></blockquote>
<p><strong>byteorder</strong> : str</p>
<blockquote>
<div><p>Can be “&gt;”, “&lt;”, “little”, or “big”. default is <cite>sys.byteorder</cite>.</p>
</div></blockquote>
<p><strong>time_stamp</strong> : datetime</p>
<blockquote>
<div><p>A datetime to use as file creation date.  Default is the current
time.</p>
</div></blockquote>
<p><strong>data_label</strong> : str</p>
<blockquote>
<div><p>A label for the data set.  Must be 80 characters or smaller.</p>
</div></blockquote>
<p><strong>variable_labels</strong> : dict</p>
<blockquote>
<div><p>Dictionary containing columns as keys and variable labels as
values. Each label must be 80 characters or smaller.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.19.0.</span></p>
</div>
</div></blockquote>
<p><strong>version</strong> : {114, 117}</p>
<blockquote>
<div><p>Version to use in the output dta file.  Version 114 can be used
read by Stata 10 and later.  Version 117 can be read by Stata 13
or later. Version 114 limits string variables to 244 characters or
fewer while 117 allows strings with lengths up to 2,000,000
characters.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.23.0.</span></p>
</div>
</div></blockquote>
<p><strong>convert_strl</strong> : list, optional</p>
<blockquote>
<div><p>List of column names to convert to string columns to Stata StrL
format. Only available if version is 117.  Storing strings in the
StrL format can produce smaller dta files if strings have more than
8 characters and values are repeated.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.23.0.</span></p>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>NotImplementedError</strong></p>
<blockquote>
<div><ul class="simple">
<li>If datetimes contain timezone information</li>
<li>Column dtype is not representable in Stata</li>
</ul>
</div></blockquote>
<p><strong>ValueError</strong></p>
<blockquote class="last">
<div><ul class="simple">
<li>Columns listed in convert_dates are neither datetime64[ns]
or datetime.datetime</li>
<li>Column listed in convert_dates is not in DataFrame</li>
<li>Categorical label contains more than 32,000 characters</li>
</ul>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.19.0.</span></p>
</div>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="pandas.read_stata.html#pandas.read_stata" title="pandas.read_stata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.read_stata</span></code></a></dt>
<dd>Import Stata data files</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.io.stata.StataWriter</span></code></dt>
<dd>low-level writer for Stata data files</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.io.stata.StataWriter117</span></code></dt>
<dd>low-level writer for version 117 files</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">to_stata</span><span class="p">(</span><span class="s1">&#39;./data_file.dta&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or with dates</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">to_stata</span><span class="p">(</span><span class="s1">&#39;./date_data_file.dta&#39;</span><span class="p">,</span> <span class="p">{</span><span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;tw&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>Alternatively you can create an instance of the StataWriter class</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">writer</span> <span class="o">=</span> <span class="n">StataWriter</span><span class="p">(</span><span class="s1">&#39;./data_file.dta&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">writer</span><span class="o">.</span><span class="n">write_file</span><span class="p">()</span>
</pre></div>
</div>
<p>With dates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">writer</span> <span class="o">=</span> <span class="n">StataWriter</span><span class="p">(</span><span class="s1">&#39;./date_data_file.dta&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="p">{</span><span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;tw&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">writer</span><span class="o">.</span><span class="n">write_file</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/generated/pandas.DataFrame.to_stata.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2008-2014, the pandas development team.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>