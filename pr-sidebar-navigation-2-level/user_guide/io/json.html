

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>JSON &#8212; pandas 0.25.1 documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="../../_static/sphinx-bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link href="../../_static/css/custom.css" rel="stylesheet">
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SQL Queries" href="sql.html" />
    <link rel="prev" title="IO Tools (Text, CSV, HDF5, …)" href="index.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/img/pandas_logo.svg" alt="Pandas">
</a>

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item">
        <a class="nav-link" href="../../index.html">Home</a>
    </li>
    
    
    <li class="nav-item ">
        <a class="nav-link" href="../../getting_started/index.html">Getting started</a>
    </li>
    
    <li class="nav-item active">
        <a class="nav-link" href="../index.html">User Guide</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../../reference/index.html">API Reference</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../../development/index.html">Development</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../../whatsnew/index.html">Release Notes</a>
    </li>
    
  </ul>
  <ul class="navbar-nav ml-auto">
    <li class="nav-item">
      <a class="nav-link" href="https://github.com/pandas-dev/pandas" target="_blank" rel="noopener">
        <span><i class="fab fa-github-alt" style="color:#333;font-size:1rem;line-height:1.25"></i></span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="https://twitter.com/pandas_dev" target="_blank" rel="noopener">
        <span><i class="fab fa-twitter" style="color:#55acee;font-size:1rem;line-height:1.25"></i></span>
      </a>
    </li>
  </ul>
</div>
    </nav>

    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">
              

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
        
          
    
              <li class="active">
                  <a href="index.html">IO Tools (Text, CSV, HDF5, …)</a>
                  <ul>
                  
                      <li class="active">
                          <a href="">JSON</a>
                      </li>
                  
                      <li class="">
                          <a href="sql.html">SQL Queries</a>
                      </li>
                  
                  </ul>
              </li> 
          
        
          
              <li class="">
                  <a href="../indexing.html">Indexing and Selecting Data</a>
              </li>
          
        
          
              <li class="">
                  <a href="../advanced.html">MultiIndex / Advanced Indexing</a>
              </li>
          
        
          
              <li class="">
                  <a href="../merging.html">Merge, join, and concatenate</a>
              </li>
          
        
          
              <li class="">
                  <a href="../reshaping.html">Reshaping and Pivot Tables</a>
              </li>
          
        
          
              <li class="">
                  <a href="../text.html">Working with Text Data</a>
              </li>
          
        
          
              <li class="">
                  <a href="../missing_data.html">Working with missing data</a>
              </li>
          
        
          
              <li class="">
                  <a href="../categorical.html">Categorical Data</a>
              </li>
          
        
          
              <li class="">
                  <a href="../integer_na.html">Nullable Integer Data Type</a>
              </li>
          
        
          
              <li class="">
                  <a href="../visualization.html">Visualization</a>
              </li>
          
        
          
              <li class="">
                  <a href="../computation.html">Computational tools</a>
              </li>
          
        
          
              <li class="">
                  <a href="../groupby.html">Group By: split-apply-combine</a>
              </li>
          
        
          
              <li class="">
                  <a href="../timeseries.html">Time Series / Date functionality</a>
              </li>
          
        
          
              <li class="">
                  <a href="../timedeltas.html">Time Deltas</a>
              </li>
          
        
          
              <li class="">
                  <a href="../options.html">Options and Settings</a>
              </li>
          
        
          
              <li class="">
                  <a href="../enhancingperf.html">Enhancing Performance</a>
              </li>
          
        
          
              <li class="">
                  <a href="../sparse.html">Sparse data structures</a>
              </li>
          
        
          
              <li class="">
                  <a href="../gotchas.html">Frequently Asked Questions (FAQ)</a>
              </li>
          
        
          
              <li class="">
                  <a href="../cookbook.html">Cookbook</a>
              </li>
          
        
      
      
      
      
      
      
      
      
    </ul>

</nav>


              
          </div>
          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#writing-json" class="nav-link">Writing JSON</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#orient-options" class="nav-link">Orient Options</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#date-handling" class="nav-link">Date Handling</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#fallback-behavior" class="nav-link">Fallback Behavior</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#reading-json" class="nav-link">Reading JSON</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#data-conversion" class="nav-link">Data Conversion</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#the-numpy-parameter" class="nav-link">The Numpy Parameter</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#normalization" class="nav-link">Normalization</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#line-delimited-json" class="nav-link">Line delimited json</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#table-schema" class="nav-link">Table Schema</a>
        </li>
    
    </ul>
</nav>
              
            </div>

          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              <div>
                
  <div class="section" id="json">
<span id="io-json"></span><h1>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h1>
<p>Read and write <code class="docutils literal notranslate"><span class="pre">JSON</span></code> format files and strings.</p>
<div class="section" id="writing-json">
<span id="io-json-writer"></span><h2>Writing JSON<a class="headerlink" href="#writing-json" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">Series</span></code> or <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> can be converted to a valid JSON string. Use <code class="docutils literal notranslate"><span class="pre">to_json</span></code>
with optional parameters:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">path_or_buf</span></code> : the pathname or buffer to write the output
This can be <code class="docutils literal notranslate"><span class="pre">None</span></code> in which case a JSON string is returned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">orient</span></code> :</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Series</span></code>:</dt><dd><ul class="simple">
<li><p>default is <code class="docutils literal notranslate"><span class="pre">index</span></code></p></li>
<li><p>allowed values are {<code class="docutils literal notranslate"><span class="pre">split</span></code>, <code class="docutils literal notranslate"><span class="pre">records</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code>}</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>:</dt><dd><ul class="simple">
<li><p>default is <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p>allowed values are {<code class="docutils literal notranslate"><span class="pre">split</span></code>, <code class="docutils literal notranslate"><span class="pre">records</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code>, <code class="docutils literal notranslate"><span class="pre">values</span></code>, <code class="docutils literal notranslate"><span class="pre">table</span></code>}</p></li>
</ul>
</dd>
</dl>
<p>The format of the JSON string</p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split</span></code></p></td>
<td><p>dict like {index -&gt; [index], columns -&gt; [columns], data -&gt; [values]}</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">records</span></code></p></td>
<td><p>list like [{column -&gt; value}, … , {column -&gt; value}]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">index</span></code></p></td>
<td><p>dict like {index -&gt; {column -&gt; value}}</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">columns</span></code></p></td>
<td><p>dict like {column -&gt; {index -&gt; value}}</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">values</span></code></p></td>
<td><p>just the values array</p></td>
</tr>
</tbody>
</table>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">date_format</span></code> : string, type of date conversion, ‘epoch’ for timestamp, ‘iso’ for ISO8601.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">double_precision</span></code> : The number of decimal places to use when encoding floating point values, default 10.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">force_ascii</span></code> : force encoded string to be ASCII, default True.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">date_unit</span></code> : The time unit to encode to, governs timestamp and ISO8601 precision. One of ‘s’, ‘ms’, ‘us’ or ‘ns’ for seconds, milliseconds, microseconds and nanoseconds respectively. Default ‘ms’.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default_handler</span></code> : The handler to call if an object cannot otherwise be converted to a suitable format for JSON. Takes a single argument, which is the object to convert, and returns a serializable object.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lines</span></code> : If <code class="docutils literal notranslate"><span class="pre">records</span></code> orient, then will write each record per line as json.</p></li>
</ul>
<p>Note <code class="docutils literal notranslate"><span class="pre">NaN</span></code>’s, <code class="docutils literal notranslate"><span class="pre">NaT</span></code>’s and <code class="docutils literal notranslate"><span class="pre">None</span></code> will be converted to <code class="docutils literal notranslate"><span class="pre">null</span></code> and <code class="docutils literal notranslate"><span class="pre">datetime</span></code> objects will be converted based on the <code class="docutils literal notranslate"><span class="pre">date_format</span></code> and <code class="docutils literal notranslate"><span class="pre">date_unit</span></code> parameters.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">dfj</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;AB&#39;</span><span class="p">))</span>

<span class="gp">In [2]: </span><span class="n">json</span> <span class="o">=</span> <span class="n">dfj</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>

<span class="gp">In [3]: </span><span class="n">json</span>
</pre></div>
</div>
<div class="section" id="orient-options">
<h3>Orient Options<a class="headerlink" href="#orient-options" title="Permalink to this headline">¶</a></h3>
<p>There are a number of different options for the format of the resulting JSON
file / string. Consider the following <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> and <code class="docutils literal notranslate"><span class="pre">Series</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">dfjo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">A</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">B</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">C</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span>
<span class="gp">   ...: </span>                    <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;xyz&#39;</span><span class="p">))</span>
<span class="gp">   ...: </span>

<span class="gp">In [5]: </span><span class="n">dfjo</span>

<span class="gp">In [6]: </span><span class="n">sjo</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">17</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="n">sjo</span>
</pre></div>
</div>
<p><strong>Column oriented</strong> (the default for <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>) serializes the data as
nested JSON objects with column labels acting as the primary index:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">dfjo</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>

<span class="go"># Not available for Series</span>
</pre></div>
</div>
<p><strong>Index oriented</strong> (the default for <code class="docutils literal notranslate"><span class="pre">Series</span></code>) similar to column oriented
but the index labels are now primary:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">dfjo</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">sjo</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Record oriented</strong> serializes the data to a JSON array of column -&gt; value records,
index labels are not included. This is useful for passing <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> data to plotting
libraries, for example the JavaScript library <code class="docutils literal notranslate"><span class="pre">d3.js</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">dfjo</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;records&quot;</span><span class="p">)</span>

<span class="gp">In [12]: </span><span class="n">sjo</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;records&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Value oriented</strong> is a bare-bones option which serializes to nested JSON arrays of
values only, column and index labels are not included:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">dfjo</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;values&quot;</span><span class="p">)</span>

<span class="go"># Not available for Series</span>
</pre></div>
</div>
<p><strong>Split oriented</strong> serializes to a JSON object containing separate entries for
values, index and columns. Name is also included for <code class="docutils literal notranslate"><span class="pre">Series</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">dfjo</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;split&quot;</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">sjo</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s2">&quot;split&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Table oriented</strong> serializes to the JSON <a class="reference external" href="https://specs.frictionlessdata.io/json-table-schema/">Table Schema</a>, allowing for the
preservation of metadata including but not limited to dtypes and index names.</p>
<div class="alert alert-info">
<p class="admonition-title">Note</p>
<p>Any orient option that encodes to a JSON object will not preserve the ordering of
index and column labels during round-trip serialization. If you wish to preserve
label ordering use the <cite>split</cite> option as it uses ordered containers.</p>
</div>
</div>
<div class="section" id="date-handling">
<h3>Date Handling<a class="headerlink" href="#date-handling" title="Permalink to this headline">¶</a></h3>
<p>Writing in ISO date format:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">dfd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;AB&#39;</span><span class="p">))</span>

<span class="gp">In [17]: </span><span class="n">dfd</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">dfd</span> <span class="o">=</span> <span class="n">dfd</span><span class="o">.</span><span class="n">sort_index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="n">json</span> <span class="o">=</span> <span class="n">dfd</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">date_format</span><span class="o">=</span><span class="s1">&#39;iso&#39;</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">json</span>
</pre></div>
</div>
<p>Writing in ISO date format, with microseconds:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">json</span> <span class="o">=</span> <span class="n">dfd</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">date_format</span><span class="o">=</span><span class="s1">&#39;iso&#39;</span><span class="p">,</span> <span class="n">date_unit</span><span class="o">=</span><span class="s1">&#39;us&#39;</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">json</span>
</pre></div>
</div>
<p>Epoch timestamps, in seconds:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">json</span> <span class="o">=</span> <span class="n">dfd</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">date_format</span><span class="o">=</span><span class="s1">&#39;epoch&#39;</span><span class="p">,</span> <span class="n">date_unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>

<span class="gp">In [24]: </span><span class="n">json</span>
</pre></div>
</div>
<p>Writing to a file, with a date index and a date column:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="n">dfj2</span> <span class="o">=</span> <span class="n">dfj</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="gp">In [26]: </span><span class="n">dfj2</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">)</span>

<span class="gp">In [27]: </span><span class="n">dfj2</span><span class="p">[</span><span class="s1">&#39;ints&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="gp">In [28]: </span><span class="n">dfj2</span><span class="p">[</span><span class="s1">&#39;bools&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>

<span class="gp">In [29]: </span><span class="n">dfj2</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;20130101&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">dfj2</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">)</span>

<span class="gp">In [31]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">fh</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
</div>
<div class="section" id="fallback-behavior">
<h3>Fallback Behavior<a class="headerlink" href="#fallback-behavior" title="Permalink to this headline">¶</a></h3>
<p>If the JSON serializer cannot handle the container contents directly it will
fall back in the following manner:</p>
<ul>
<li><p>if the dtype is unsupported (e.g. <code class="docutils literal notranslate"><span class="pre">np.complex</span></code>) then the <code class="docutils literal notranslate"><span class="pre">default_handler</span></code>, if provided, will be called
for each value, otherwise an exception is raised.</p></li>
<li><p>if an object is unsupported it will attempt the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>check if the object has defined a <code class="docutils literal notranslate"><span class="pre">toDict</span></code> method and call it.
A <code class="docutils literal notranslate"><span class="pre">toDict</span></code> method should return a <code class="docutils literal notranslate"><span class="pre">dict</span></code> which will then be JSON serialized.</p></li>
<li><p>invoke the <code class="docutils literal notranslate"><span class="pre">default_handler</span></code> if one was provided.</p></li>
<li><p>convert the object to a <code class="docutils literal notranslate"><span class="pre">dict</span></code> by traversing its contents. However this will often fail
with an <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> or give unexpected results.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>In general the best approach for unsupported objects or dtypes is to provide a <code class="docutils literal notranslate"><span class="pre">default_handler</span></code>.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DataFrame</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="nb">complex</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)])</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>  <span class="c1"># raises</span>
<span class="go">RuntimeError: Unhandled numpy dtype 15</span>
</pre></div>
</div>
<p>can be dealt with by specifying a simple <code class="docutils literal notranslate"><span class="pre">default_handler</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="nb">complex</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)])</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">default_handler</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="reading-json">
<span id="io-json-reader"></span><h2>Reading JSON<a class="headerlink" href="#reading-json" title="Permalink to this headline">¶</a></h2>
<p>Reading a JSON string to pandas object can take a number of parameters.
The parser will try to parse a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> if <code class="docutils literal notranslate"><span class="pre">typ</span></code> is not supplied or
is <code class="docutils literal notranslate"><span class="pre">None</span></code>. To explicitly force <code class="docutils literal notranslate"><span class="pre">Series</span></code> parsing, pass <code class="docutils literal notranslate"><span class="pre">typ=series</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">filepath_or_buffer</span></code> : a <strong>VALID</strong> JSON string or file handle / StringIO. The string could be
a URL. Valid URL schemes include http, ftp, S3, and file. For file URLs, a host
is expected. For instance, a local file could be
file ://localhost/path/to/table.json</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">typ</span></code>    : type of object to recover (series or frame), default ‘frame’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">orient</span></code> :</p>
<dl class="simple">
<dt>Series :</dt><dd><ul class="simple">
<li><p>default is <code class="docutils literal notranslate"><span class="pre">index</span></code></p></li>
<li><p>allowed values are {<code class="docutils literal notranslate"><span class="pre">split</span></code>, <code class="docutils literal notranslate"><span class="pre">records</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code>}</p></li>
</ul>
</dd>
<dt>DataFrame</dt><dd><ul class="simple">
<li><p>default is <code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p>allowed values are {<code class="docutils literal notranslate"><span class="pre">split</span></code>, <code class="docutils literal notranslate"><span class="pre">records</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code>, <code class="docutils literal notranslate"><span class="pre">values</span></code>, <code class="docutils literal notranslate"><span class="pre">table</span></code>}</p></li>
</ul>
</dd>
</dl>
<p>The format of the JSON string</p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">split</span></code></p></td>
<td><p>dict like {index -&gt; [index], columns -&gt; [columns], data -&gt; [values]}</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">records</span></code></p></td>
<td><p>list like [{column -&gt; value}, … , {column -&gt; value}]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">index</span></code></p></td>
<td><p>dict like {index -&gt; {column -&gt; value}}</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">columns</span></code></p></td>
<td><p>dict like {column -&gt; {index -&gt; value}}</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">values</span></code></p></td>
<td><p>just the values array</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">table</span></code></p></td>
<td><p>adhering to the JSON <a class="reference external" href="https://specs.frictionlessdata.io/json-table-schema/">Table Schema</a></p></td>
</tr>
</tbody>
</table>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dtype</span></code> : if True, infer dtypes, if a dict of column to dtype, then use those, if <code class="docutils literal notranslate"><span class="pre">False</span></code>, then don’t infer dtypes at all, default is True, apply only to the data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">convert_axes</span></code> : boolean, try to convert the axes to the proper dtypes, default is <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">convert_dates</span></code> : a list of columns to parse for dates; If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then try to parse date-like columns, default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keep_default_dates</span></code> : boolean, default <code class="docutils literal notranslate"><span class="pre">True</span></code>. If parsing dates, then parse the default date-like columns.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> : direct decoding to NumPy arrays. default is <code class="docutils literal notranslate"><span class="pre">False</span></code>;
Supports numeric data only, although labels may be non-numeric. Also note that the JSON ordering <strong>MUST</strong> be the same for each term if <code class="docutils literal notranslate"><span class="pre">numpy=True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">precise_float</span></code> : boolean, default <code class="docutils literal notranslate"><span class="pre">False</span></code>. Set to enable usage of higher precision (strtod) function when decoding string to double values. Default (<code class="docutils literal notranslate"><span class="pre">False</span></code>) is to use fast but less precise builtin functionality.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">date_unit</span></code> : string, the timestamp unit to detect if converting dates. Default
None. By default the timestamp precision will be detected, if this is not desired
then pass one of ‘s’, ‘ms’, ‘us’ or ‘ns’ to force timestamp precision to
seconds, milliseconds, microseconds or nanoseconds respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lines</span></code> : reads file as one json object per line.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">encoding</span></code> : The encoding to use to decode py3 bytes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chunksize</span></code> : when used in combination with <code class="docutils literal notranslate"><span class="pre">lines=True</span></code>, return a JsonReader which reads in <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> lines per iteration.</p></li>
</ul>
<p>The parser will raise one of <code class="docutils literal notranslate"><span class="pre">ValueError/TypeError/AssertionError</span></code> if the JSON is not parseable.</p>
<p>If a non-default <code class="docutils literal notranslate"><span class="pre">orient</span></code> was used when encoding to JSON be sure to pass the same
option here so that decoding produces sensible results, see <a class="reference internal" href="#orient-options">Orient Options</a> for an
overview.</p>
<div class="section" id="data-conversion">
<h3>Data Conversion<a class="headerlink" href="#data-conversion" title="Permalink to this headline">¶</a></h3>
<p>The default of <code class="docutils literal notranslate"><span class="pre">convert_axes=True</span></code>, <code class="docutils literal notranslate"><span class="pre">dtype=True</span></code>, and <code class="docutils literal notranslate"><span class="pre">convert_dates=True</span></code>
will try to parse the axes, and all of the data into appropriate types,
including dates. If you need to override specific dtypes, pass a dict to
<code class="docutils literal notranslate"><span class="pre">dtype</span></code>. <code class="docutils literal notranslate"><span class="pre">convert_axes</span></code> should only be set to <code class="docutils literal notranslate"><span class="pre">False</span></code> if you need to
preserve string-like numbers (e.g. ‘1’, ‘2’) in an axes.</p>
<div class="alert alert-info">
<p class="admonition-title">Note</p>
<p>Large integer values may be converted to dates if <code class="docutils literal notranslate"><span class="pre">convert_dates=True</span></code> and the data and / or column labels appear ‘date-like’. The exact threshold depends on the <code class="docutils literal notranslate"><span class="pre">date_unit</span></code> specified. ‘date-like’ means that the column label meets one of the following criteria:</p>
<blockquote>
<div><ul class="simple">
<li><p>it ends with <code class="docutils literal notranslate"><span class="pre">'_at'</span></code></p></li>
<li><p>it ends with <code class="docutils literal notranslate"><span class="pre">'_time'</span></code></p></li>
<li><p>it begins with <code class="docutils literal notranslate"><span class="pre">'timestamp'</span></code></p></li>
<li><p>it is <code class="docutils literal notranslate"><span class="pre">'modified'</span></code></p></li>
<li><p>it is <code class="docutils literal notranslate"><span class="pre">'date'</span></code></p></li>
</ul>
</div></blockquote>
</div>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>When reading JSON data, automatic coercing into dtypes has some quirks:</p>
<blockquote>
<div><ul class="simple">
<li><p>an index can be reconstructed in a different order from serialization, that is, the returned order is not guaranteed to be the same as before serialization</p></li>
<li><p>a column that was <code class="docutils literal notranslate"><span class="pre">float</span></code> data will be converted to <code class="docutils literal notranslate"><span class="pre">integer</span></code> if it can be done safely, e.g. a column of <code class="docutils literal notranslate"><span class="pre">1.</span></code></p></li>
<li><p>bool columns will be converted to <code class="docutils literal notranslate"><span class="pre">integer</span></code> on reconstruction</p></li>
</ul>
</div></blockquote>
<p>Thus there are times where you may want to specify specific dtypes via the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> keyword argument.</p>
</div>
<p>Reading from a JSON string:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">json</span><span class="p">)</span>
</pre></div>
</div>
<p>Reading from a file:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Don’t convert any data (but still convert axes and dates):</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [35]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
<p>Specify dtypes for conversion:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="s1">&#39;float32&#39;</span><span class="p">,</span> <span class="s1">&#39;bools&#39;</span><span class="p">:</span> <span class="s1">&#39;int8&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
<p>Preserve string indices:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [37]: </span><span class="n">si</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)),</span>
<span class="gp">   ....: </span>                  <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
<span class="gp">   ....: </span>

<span class="gp">In [38]: </span><span class="n">si</span>

<span class="gp">In [39]: </span><span class="n">si</span><span class="o">.</span><span class="n">index</span>

<span class="gp">In [40]: </span><span class="n">si</span><span class="o">.</span><span class="n">columns</span>

<span class="gp">In [41]: </span><span class="n">json</span> <span class="o">=</span> <span class="n">si</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>

<span class="gp">In [42]: </span><span class="n">sij</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">convert_axes</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="gp">In [43]: </span><span class="n">sij</span>

<span class="gp">In [44]: </span><span class="n">sij</span><span class="o">.</span><span class="n">index</span>

<span class="gp">In [45]: </span><span class="n">sij</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
<p>Dates written in nanoseconds need to be read back in nanoseconds:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="n">json</span> <span class="o">=</span> <span class="n">dfj2</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">date_unit</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>

<span class="go"># Try to parse timestamps as millseconds -&gt; Won&#39;t Work</span>
<span class="gp">In [47]: </span><span class="n">dfju</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">date_unit</span><span class="o">=</span><span class="s1">&#39;ms&#39;</span><span class="p">)</span>

<span class="gp">In [48]: </span><span class="n">dfju</span>

<span class="go"># Let pandas detect the correct precision</span>
<span class="gp">In [49]: </span><span class="n">dfju</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">json</span><span class="p">)</span>

<span class="gp">In [50]: </span><span class="n">dfju</span>

<span class="go"># Or specify that all timestamps are in nanoseconds</span>
<span class="gp">In [51]: </span><span class="n">dfju</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">date_unit</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">)</span>

<span class="gp">In [52]: </span><span class="n">dfju</span>
</pre></div>
</div>
</div>
<div class="section" id="the-numpy-parameter">
<h3>The Numpy Parameter<a class="headerlink" href="#the-numpy-parameter" title="Permalink to this headline">¶</a></h3>
<div class="alert alert-info">
<p class="admonition-title">Note</p>
<p>This supports numeric data only. Index and columns labels may be non-numeric, e.g. strings, dates etc.</p>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">numpy=True</span></code> is passed to <code class="docutils literal notranslate"><span class="pre">read_json</span></code> an attempt will be made to sniff
an appropriate dtype during deserialization and to subsequently decode directly
to NumPy arrays, bypassing the need for intermediate Python objects.</p>
<p>This can provide speedups if you are deserialising a large amount of numeric
data:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [53]: </span><span class="n">randfloats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>

<span class="gp">In [54]: </span><span class="n">randfloats</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="gp">In [55]: </span><span class="n">dffloats</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">randfloats</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;ABCDEFGHIJ&#39;</span><span class="p">))</span>

<span class="gp">In [56]: </span><span class="n">jsonfloats</span> <span class="o">=</span> <span class="n">dffloats</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [57]: </span><span class="o">%</span><span class="k">timeit</span> pd.read_json(jsonfloats)
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [58]: </span><span class="o">%</span><span class="k">timeit</span> pd.read_json(jsonfloats, numpy=True)
</pre></div>
</div>
<p>The speedup is less noticeable for smaller datasets:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [59]: </span><span class="n">jsonfloats</span> <span class="o">=</span> <span class="n">dffloats</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [60]: </span><span class="o">%</span><span class="k">timeit</span> pd.read_json(jsonfloats)
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [61]: </span><span class="o">%</span><span class="k">timeit</span> pd.read_json(jsonfloats, numpy=True)
</pre></div>
</div>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>Direct NumPy decoding makes a number of assumptions and may fail or produce
unexpected output if these assumptions are not satisfied:</p>
<blockquote>
<div><ul class="simple">
<li><p>data is numeric.</p></li>
<li><p>data is uniform. The dtype is sniffed from the first value decoded.
A <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> may be raised, or incorrect output may be produced
if this condition is not satisfied.</p></li>
<li><p>labels are ordered. Labels are only read from the first container, it is assumed
that each subsequent row / column has been encoded in the same order. This should be satisfied if the
data was encoded using <code class="docutils literal notranslate"><span class="pre">to_json</span></code> but may not be the case if the JSON
is from another source.</p></li>
</ul>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="normalization">
<span id="io-json-normalize"></span><h2>Normalization<a class="headerlink" href="#normalization" title="Permalink to this headline">¶</a></h2>
<p>pandas provides a utility function to take a dict or list of dicts and <em>normalize</em> this semi-structured data
into a flat table.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [63]: </span><span class="kn">from</span> <span class="nn">pandas.io.json</span> <span class="kn">import</span> <span class="n">json_normalize</span>

<span class="gp">In [64]: </span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="s1">&#39;Coleen&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span> <span class="s1">&#39;Volk&#39;</span><span class="p">}},</span>
<span class="gp">   ....: </span>        <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;given&#39;</span><span class="p">:</span> <span class="s1">&#39;Mose&#39;</span><span class="p">,</span> <span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;Regner&#39;</span><span class="p">}},</span>
<span class="gp">   ....: </span>        <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Faye Raker&#39;</span><span class="p">}]</span>
<span class="gp">   ....: </span>

<span class="gp">In [65]: </span><span class="n">json_normalize</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [66]: </span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;Florida&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>         <span class="s1">&#39;shortname&#39;</span><span class="p">:</span> <span class="s1">&#39;FL&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>         <span class="s1">&#39;info&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;governor&#39;</span><span class="p">:</span> <span class="s1">&#39;Rick Scott&#39;</span><span class="p">},</span>
<span class="gp">   ....: </span>         <span class="s1">&#39;counties&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Dade&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">12345</span><span class="p">},</span>
<span class="gp">   ....: </span>                      <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Broward&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">40000</span><span class="p">},</span>
<span class="gp">   ....: </span>                      <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Palm Beach&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">60000</span><span class="p">}]},</span>
<span class="gp">   ....: </span>        <span class="p">{</span><span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;Ohio&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>         <span class="s1">&#39;shortname&#39;</span><span class="p">:</span> <span class="s1">&#39;OH&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>         <span class="s1">&#39;info&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;governor&#39;</span><span class="p">:</span> <span class="s1">&#39;John Kasich&#39;</span><span class="p">},</span>
<span class="gp">   ....: </span>         <span class="s1">&#39;counties&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Summit&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">1234</span><span class="p">},</span>
<span class="gp">   ....: </span>                      <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Cuyahoga&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="mi">1337</span><span class="p">}]}]</span>
<span class="gp">   ....: </span>

<span class="gp">In [67]: </span><span class="n">json_normalize</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;counties&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">,</span> <span class="s1">&#39;shortname&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;governor&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="section" id="line-delimited-json">
<span id="io-jsonl"></span><h2>Line delimited json<a class="headerlink" href="#line-delimited-json" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.19.0.</span></p>
</div>
<p>pandas is able to read and write line-delimited json files that are common in data processing pipelines
using Hadoop or Spark.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.21.0.</span></p>
</div>
<p>For line-delimited json files, pandas can also return an iterator which reads in <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> lines at a time. This can be useful for large files or to read from a stream.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [68]: </span><span class="n">jsonl</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="gp">   ....: </span><span class="s1">    {&quot;a&quot;: 1, &quot;b&quot;: 2}</span>
<span class="gp">   ....: </span><span class="s1">    {&quot;a&quot;: 3, &quot;b&quot;: 4}</span>
<span class="gp">   ....: </span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">   ....: </span>

<span class="gp">In [69]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">jsonl</span><span class="p">,</span> <span class="n">lines</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="gp">In [70]: </span><span class="n">df</span>

<span class="gp">In [71]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">,</span> <span class="n">lines</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="go"># reader is an iterator that returns `chunksize` lines each iteration</span>
<span class="gp">In [72]: </span><span class="n">reader</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">jsonl</span><span class="p">),</span> <span class="n">lines</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">chunksize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="gp">In [73]: </span><span class="n">reader</span>

<span class="gp">In [74]: </span><span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
</div>
<div class="section" id="table-schema">
<span id="io-table-schema"></span><h2>Table Schema<a class="headerlink" href="#table-schema" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.20.0.</span></p>
</div>
<p><a class="reference external" href="https://specs.frictionlessdata.io/json-table-schema/">Table Schema</a> is a spec for describing tabular datasets as a JSON
object. The JSON includes information on the field names, types, and
other attributes. You can use the orient <code class="docutils literal notranslate"><span class="pre">table</span></code> to build
a JSON string with two fields, <code class="docutils literal notranslate"><span class="pre">schema</span></code> and <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">   ....: </span>                   <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                   <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">)},</span>
<span class="gp">   ....: </span>                  <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;idx&#39;</span><span class="p">))</span>
<span class="gp">   ....: </span>

<span class="gp">In [76]: </span><span class="n">df</span>

<span class="gp">In [77]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="s2">&quot;iso&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">schema</span></code> field contains the <code class="docutils literal notranslate"><span class="pre">fields</span></code> key, which itself contains
a list of column name to type pairs, including the <code class="docutils literal notranslate"><span class="pre">Index</span></code> or <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code>
(see below for a list of types).
The <code class="docutils literal notranslate"><span class="pre">schema</span></code> field also contains a <code class="docutils literal notranslate"><span class="pre">primaryKey</span></code> field if the (Multi)index
is unique.</p>
<p>The second field, <code class="docutils literal notranslate"><span class="pre">data</span></code>, contains the serialized data with the <code class="docutils literal notranslate"><span class="pre">records</span></code>
orient.
The index is included, and any datetimes are ISO 8601 formatted, as required
by the Table Schema spec.</p>
<p>The full list of types supported are described in the Table Schema
spec. This table shows the mapping from pandas types:</p>
<table class="table">
<colgroup>
<col style="width: 47%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Pandas type</p></th>
<th class="head"><p>Table Schema type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int64</p></td>
<td><p>integer</p></td>
</tr>
<tr class="row-odd"><td><p>float64</p></td>
<td><p>number</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>boolean</p></td>
</tr>
<tr class="row-odd"><td><p>datetime64[ns]</p></td>
<td><p>datetime</p></td>
</tr>
<tr class="row-even"><td><p>timedelta64[ns]</p></td>
<td><p>duration</p></td>
</tr>
<tr class="row-odd"><td><p>categorical</p></td>
<td><p>any</p></td>
</tr>
<tr class="row-even"><td><p>object</p></td>
<td><p>str</p></td>
</tr>
</tbody>
</table>
<p>A few notes on the generated table schema:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">schema</span></code> object contains a <code class="docutils literal notranslate"><span class="pre">pandas_version</span></code> field. This contains
the version of pandas’ dialect of the schema, and will be incremented
with each revision.</p></li>
<li><p>All dates are converted to UTC when serializing. Even timezone naive values,
which are treated as UTC with an offset of 0.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="kn">from</span> <span class="nn">pandas.io.json</span> <span class="kn">import</span> <span class="n">build_table_schema</span>

<span class="gp">In [79]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2016&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

<span class="gp">In [80]: </span><span class="n">build_table_schema</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>datetimes with a timezone (before serializing), include an additional field
<code class="docutils literal notranslate"><span class="pre">tz</span></code> with the time zone name (e.g. <code class="docutils literal notranslate"><span class="pre">'US/Central'</span></code>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [81]: </span><span class="n">s_tz</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2016&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
<span class="gp">   ....: </span>                               <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;US/Central&#39;</span><span class="p">))</span>
<span class="gp">   ....: </span>

<span class="gp">In [82]: </span><span class="n">build_table_schema</span><span class="p">(</span><span class="n">s_tz</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Periods are converted to timestamps before serialization, and so have the
same behavior of being converted to UTC. In addition, periods will contain
and additional field <code class="docutils literal notranslate"><span class="pre">freq</span></code> with the period’s frequency, e.g. <code class="docutils literal notranslate"><span class="pre">'A-DEC'</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [83]: </span><span class="n">s_per</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;2016&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;A-DEC&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>                                           <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">   ....: </span>

<span class="gp">In [84]: </span><span class="n">build_table_schema</span><span class="p">(</span><span class="n">s_per</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Categoricals use the <code class="docutils literal notranslate"><span class="pre">any</span></code> type and an <code class="docutils literal notranslate"><span class="pre">enum</span></code> constraint listing
the set of possible values. Additionally, an <code class="docutils literal notranslate"><span class="pre">ordered</span></code> field is included:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [85]: </span><span class="n">s_cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]))</span>

<span class="gp">In [86]: </span><span class="n">build_table_schema</span><span class="p">(</span><span class="n">s_cat</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">primaryKey</span></code> field, containing an array of labels, is included
<em>if the index is unique</em>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [87]: </span><span class="n">s_dupe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [88]: </span><span class="n">build_table_schema</span><span class="p">(</span><span class="n">s_dupe</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">primaryKey</span></code> behavior is the same with MultiIndexes, but in this
case the <code class="docutils literal notranslate"><span class="pre">primaryKey</span></code> is an array:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [89]: </span><span class="n">s_multi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span>
<span class="gp">   ....: </span>                                                         <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]))</span>
<span class="gp">   ....: </span>

<span class="gp">In [90]: </span><span class="n">build_table_schema</span><span class="p">(</span><span class="n">s_multi</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>The default naming roughly follows these rules:</p>
<blockquote>
<div><ul class="simple">
<li><p>For series, the <code class="docutils literal notranslate"><span class="pre">object.name</span></code> is used. If that’s none, then the
name is <code class="docutils literal notranslate"><span class="pre">values</span></code></p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code>, the stringified version of the column name is used</p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">Index</span></code> (not <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code>), <code class="docutils literal notranslate"><span class="pre">index.name</span></code> is used, with a
fallback to <code class="docutils literal notranslate"><span class="pre">index</span></code> if that is None.</p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code>, <code class="docutils literal notranslate"><span class="pre">mi.names</span></code> is used. If any level has no name,
then <code class="docutils literal notranslate"><span class="pre">level_&lt;i&gt;</span></code> is used.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.23.0.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">read_json</span></code> also accepts <code class="docutils literal notranslate"><span class="pre">orient='table'</span></code> as an argument. This allows for
the preservation of metadata such as dtypes and index names in a
round-trippable manner.</p>
<blockquote>
<div><div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [91]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">   ....: </span>                   <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                   <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2018-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ....: </span>                   <span class="s1">&#39;qux&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">   ....: </span>                   <span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;idx&#39;</span><span class="p">))</span>
<span class="gp">   ....: </span>

<span class="gp">In [92]: </span><span class="n">df</span>

<span class="gp">In [93]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>

<span class="gp">In [94]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [95]: </span><span class="n">new_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [96]: </span><span class="n">new_df</span>

<span class="gp">In [97]: </span><span class="n">new_df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div></blockquote>
<p>Please note that the literal string ‘index’ as the name of an <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code>
is not round-trippable, nor are any names beginning with <code class="docutils literal notranslate"><span class="pre">'level_'</span></code> within a
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code>. These are used by default in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code> to
indicate missing values and the subsequent read cannot distinguish the intent.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [98]: </span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;index&#39;</span>

<span class="gp">In [99]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [100]: </span><span class="n">new_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [101]: </span><span class="k">print</span><span class="p">(</span><span class="n">new_df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


              </div>
          </main>

      </div>
    </div><script>
    // TOC sidebar - add "active" class to parent list
    // 
    // Bootstrap's scrollspy adds the active class to the <a> link,
    // but for the automatic collapsing we need this on the parent list item.
    // 
    // The event is triggered on "window" (and not the nav item as documented),
    // see https://github.com/twbs/bootstrap/issues/20086
    $(window).on("activate.bs.scrollspy", function(){
    var navLinks = document.querySelectorAll('#bd-toc-nav a');
    for (var i = 0; i < navLinks.length; i++) {
        var navLink = navLinks[i];
        navLink.parentElement.classList.remove('active');
    }
    var navLinks = document.querySelectorAll('#bd-toc-nav a.active');
    for (var i = 0; i < navLinks.length; i++) {
        var navLink = navLinks[i];
        navLink.parentElement.classList.add('active');
    }
    });
</script>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2014, the pandas development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>